#pragma once

#include <raylib.h>

#include <functional>
#include <map>
#include <vector>

#include "raywin.h"

#define WINNAME "Canyon"

/*
        Receives Messages from Systems and Processes them and dispatches anwsers
*/

enum class Command {
  MOVE_CAMERA_LEFT,
  MOVE_CAMERA_RIGHT,
  MOVE_CAMERA_UP,
  MOVE_CAMERA_DOWN,
  EXIT_GAME,
  TEST
};

class Framework {
  std::vector<Command> Command_Buffer{};
  // this map is prefilled for prototype purposes
  std::map<Command, std::function<void()>> Command_Map = {
      {Command::TEST, []() { OutputDebugStringA("test\n"); }}};

 public:
  //Framework();
  void update();
  void send(const Command &cmd);
};
